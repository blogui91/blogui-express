{"version":3,"sources":["webpack:///webpack/bootstrap 4823aa2b427aab5488a4","webpack:///./server/index.js","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///external \"regenerator-runtime\"","webpack:///./nuxt.config.js","webpack:///external \"nuxt\"","webpack:///external \"express\"","webpack:///external \"mongoose\"","webpack:///external \"caminte\"","webpack:///external \"serve-favicon\"","webpack:///external \"morgan\"","webpack:///external \"cookie-parser\"","webpack:///external \"body-parser\"","webpack:///./server/database/connection.js","webpack:///./server/database/config.js","webpack:///./server/controllers/Base.controller.js","webpack:///./server/repositories/Base.repository.js","webpack:///./server/validators/base/validator.js","webpack:///./server/routes/api/index.js","webpack:///./server/routes/api/users.js","webpack:///./server/controllers/api/User.controller.js","webpack:///./server/repositories/User.repository.js","webpack:///./server/validators/User.validator.js","webpack:///./server/validators/base/helpers/index.js","webpack:///./server/validators/base/messages_default.js","webpack:///./server/routes/api/posts.js","webpack:///./server/controllers/api/Posts.controller.js","webpack:///./server/repositories/Post.repository.js","webpack:///./server/validators/Post.validator.js","webpack:///./server/models/post.js","webpack:///./server/models/UserModel.js"],"names":["config","require","dev","nuxt","app","use","render","listen","port","host","on","onError","onListening","error","console","start","favicon","logger","cookieParser","bodyParser","express","process","env","HOST","PORT","json","urlencoded","extended","set","syscall","bind","code","exit","addr","server","address","debug","log","module","exports","head","title","meta","charset","name","content","hid","link","rel","type","href","css","build","vendor","extend","ctx","isClient","rules","push","enforce","test","loader","exclude","Schema","caminte","database","dbConf","db","driver","schema","production","username","password","autoReconnect","development","BaseController","repository","bindFunctions","context","methodNames","map","methodName","req","res","findAll","operation","status","request","response","id","params","find","update","body","delete","create","resource","Repository","model","validator","make","passes","self","Promise","resolve","reject","createModel","err","newResource","transaction","findById","query","all","list","data","where","destroyById","deleted","Helpers","messages_default","Validator","messages","customValidators","constructor","Object","errors","loadHelpers","helpers","validators","assign","attr_rules","JSON","stringify","attr","createBag","Array","split","check","createResponse","errs","key_errors","keys","forEach","key_error","length","fails","key","first","has","get","attribute","value","index","rule","getDefaultMessage","messageBag","replace","indexOf","validate","exec","router","Router","Route","UsersController","post","put","UserRepository","UserValidator","last_name","first_name","email","required","empty","toString","trim","numeric","regexp","url","array","PostsController","User","a","PostRepository","PostValidator","description","mongoose","PostSchema","String","user_id","Number","define","active","unique","created_at","Date","updated_at","primaryKeys","afterUpdate","next","save","afterCreate"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4823aa2b427aab5488a4","import Nuxt from 'nuxt'\nimport express from 'express'\nimport api from './routes/api'\n\nvar favicon = require('serve-favicon');\nvar logger = require('morgan');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\nconst app = express()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\napp.use(logger('dev'))\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(cookieParser())\n\napp.set('port', port)\n// Import API Routes\napp.use('/api', api)\n \n// Start nuxt.js\nasync function start () {\n  // Import and Set Nuxt.js options\n  let config = require('../nuxt.config.js')\n  config.dev = !(process.env.NODE_ENV === 'production')\n\n  try {\n    // Instanciate nuxt.js\n    const nuxt = new Nuxt(config)\n    try {\n      // Add nuxt.js middleware\n      app.use(nuxt.render)\n\n      // Listen the server\n      app.listen(port, host)\n      app.on('error', onError)\n      app.on('listening', onListening)\n\n    } catch (error) {\n      console.error(error)\n    }\n  } catch (error) {\n    console.error('Server runtime error', error)\n  }\n}\n\nstart()\n/**\n * Event listener for HTTP server \"error\" event.\n */\n\nfunction onError (error) {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  var bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  // handle specific listen errors with friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1) ;\n      break ;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1) ;\n      break ;\n    default:\n      throw error ;\n  }\n}\n\n/**\n * Event listener for HTTP server \"listening\" event.\n */\n\nfunction onListening() {\n  var addr = server.address();\n  var bind = typeof addr === 'string'\n    ? 'pipe ' + addr\n    : 'port ' + addr.port;\n  debug('Listening on ' + bind);\n  console.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 3\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 4\n// module chunks = 0","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'starter',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/main.css'],\n  /*\n  ** Add axios globally\n  */\n  build: {\n    vendor: ['axios'],\n    /*\n    ** Run ESLINT on save\n    */\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"caminte\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"caminte\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 18\n// module chunks = 0","import dbConf from './config'\nimport caminte from 'caminte'\nvar Schema = caminte.Schema\nvar database = dbConf[process.env.NODE_ENV || 'dev']\nlet db\ntry {\n  db = new Schema(database.driver, database)\n} catch (error) {\n  console.log('Error connection to Database: ', error)\n}\n\nexport const schema = db\n\n\n\n// WEBPACK FOOTER //\n// ./server/database/connection.js","/**\n *  Default database configuration file\n *\n *  Created by create caminte-cli script\n *  App based on CaminteJS\n *  CaminteJS homepage http://www.camintejs.com\n *\n *  docs: https://github.com/biggora/caminte/wiki/Connecting-to-DB#connecting\n **/\n\nmodule.exports.production = {\n    driver     : 'mysql',\n    host       : 'localhost',\n    port       : '3306',\n    username   : 'test',\n    password   : 'test',\n    database   : 'test',\n    autoReconnect : true\n};\n\nmodule.exports.development = {\n    driver     : 'mysql',\n    host       : 'localhost',\n    port       : '3306',\n    username   : 'root',\n    password   : 'root',\n    database   : 'mydb',\n    autoReconnect : true\n};\n\nmodule.exports.test = {\n    driver     : 'mysql',\n    host       : 'localhost',\n    port       : '3306',\n    username   : 'test',\n    password   : 'test',\n    database   : 'test',\n    autoReconnect : true\n};\n\nmodule.exports.dev = module.exports.development;\n\n\n// WEBPACK FOOTER //\n// ./server/database/config.js","class BaseController \n{\n    constructor(repository){\n        this.repository = repository\n        this.bindFunctions(this, [\"index\", \"find\", \"update\", \"delete\",\"create\"]);\n    }\n\n    bindFunctions(context, methodNames) {\n        methodNames.map(function(methodName) {\n            context[methodName] = context[methodName].bind(context);\n        });\n    };\n\n    async index(req, res){\n        try{\n            let operation = await this.repository.findAll();\n            res.status(200).json(operation)\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async find(request, response){\n        let id = request.params.id;\n        try{\n            let operation = await this.repository.find(id);\n            response.status(200).json(operation)\n        }catch(error){\n            throw error\n        }\n    }\n\n    async update(request,response){\n        let id = request.params.id\n        try{\n            let operation = await this.repository.update(id, request.body);\n            response.status(200).json(operation)\n        }catch(error){\n            response.status(500).json(error)\n        }\n    }\n\n    async delete(request, response){\n        let id = request.params.id;\n        try{\n            let operation = await this.repository.delete(id);\n            response.status(200).json(operation)\n        }catch(error){\n            response.status(500).json(error)\n        }\n    }\n\n    async create(request , response){\n        let body = request.body\n\n        try{\n            let operation = await this.repository.create(body);\n            return response.status(202).json(operation.resource)     \n        }catch(error){\n            return response.status(500).json(error)     \n        }\n    }\n\n}\n\nexport default BaseController\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/Base.controller.js","class Repository\n{\n    constructor(model, validator){\n        this.model = model\n        this.validator = validator\n    }\n\n    createModel(){\n        return this.model\n    }\n\n    createAndFill(body){\n        return new this.model(body)\n    }\n\n    async create(body){\n      let validator = this.validator.make(body);\n      let response = {\n          validator : validator,\n          resource : null\n      }\n      if (validator.passes()) {\n        let self = this\n          try {\n            //let resource = this.createAndFill(body);\n            //let transaction = await this.createModel().create(body)\n            let transaction = await new Promise((resolve, reject) => {\n              self.createModel().create(body, (err, newResource) =>{\n                if(err){\n                  reject(err)\n                }else{\n                  resolve(newResource)\n                }\n              })\n            })\n            response.resource = transaction\n            return response\n          }catch(error){\n            console.log(error)\n            return error\n          }\n      }\n      \n      return response\n        \n    }\n\n    async find(id){\n        try {\n            let query = await this.createModel().findById(id);\n            return query\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async findAll(){\n      let self = this\n      try {\n        let query = await new Promise( (resolve, reject) =>{\n          self.createModel().all((err, list) =>{\n            if(err){\n              reject(err)\n            }else{\n              resolve(list)\n            }\n          })\n        })\n        return query\n      } catch (error) {\n        console.log(\"error! \",error)\n        throw error\n      }\n    }\n\n    async update(id, data) {\n      let self = this\n      try {\n          let transaction = await new Promise((resolve, reject) => {\n            this.createModel().update({\n              where: {\n                id: id\n              }\n            }, data, (err, resource) => {\n              if (err) reject(err)\n              else resolve(resource)\n            })\n          })\n        return transaction\n      } catch (error) {\n          console.log(\"error \",error)\n          throw error\n      }\n    }\n\n    async delete(id){\n      let self = this;\n        try{\n            let transaction = await new Promise((resolve, reject) =>{\n                self.createModel().destroyById(id,(err, resource) => {\n                  if(err) reject(err)\n                  else resolve({\n                    deleted : true\n                  })\n                })\n            })\n            return transaction;\n        }catch(error){\n            return error;\n        }\n    }\n\n}\nexport default Repository\n\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/Base.repository.js","/* \r\n *\tValidator JS |\r\n *\t(c) 2017 by Cesar Santana \r\n */\r\n\r\n\r\nconst Helpers =  require('./helpers');\r\nconst messages_default = require('./messages_default');\r\n\r\nclass Validator {\r\n\t/**\r\n\t * Create a new instance.\r\n\t *\r\n\t * @param {Object} data required\r\n\t * @param {Object} rules required\r\n\t * @param {Object} messages\r\n\t */\r\n\tconstructor(data, rules, messages, customValidators = {}) {\r\n\t\t//contains the validation errors.\r\n\t\tif (customValidators.constructor != Object) {\r\n\t\t\tthrow \"You must send your validator as a function inside of an object\"\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.errors = {};\r\n\r\n\t\t//the data to be checked out.\r\n\t\tthis.data = data;\r\n\r\n\t\t//the rules required.\r\n\t\tthis.rules = rules;\r\n\r\n\t\t//Error messages container.\r\n\t\tthis.messages = messages;\r\n\r\n\t\tthis.loadHelpers(Helpers);\r\n\t\tthis.extend(customValidators)\r\n\t}\r\n\r\n\r\n\r\n\tloadHelpers(helpers) {\r\n\t\tthis.helpers = helpers;\r\n\t}\r\n\r\n\r\n\textend(validators) {\r\n\t\tObject.assign(this.helpers, validators);\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new static instance.\r\n\t *\r\n\t * @param {Object} data required\r\n\t * @param {Object} rules required\r\n\t * @param {Object} messages optional\r\n\t */\r\n\tstatic make(data = {}, rules = {}, messages = {}, customValidators = {}) {\r\n\t\tlet validate = new Validator(data, rules, messages, customValidators);\r\n\r\n\t\t//Validate if \r\n\t\tif (JSON.stringify(this.data) == '{}') throw \"Add some data to validate: we received \" + JSON.stringify(this.rules)\r\n\r\n\t\treturn validate.exec();\r\n\t}\r\n\r\n\t/**\r\n\t * Executes  validations rules.\r\n\t *\r\n\t * @returns {Object}\r\n\t */\r\n\texec() {\r\n\t\tlet attr_rules = null;\r\n\r\n\t\tif (JSON.stringify(this.rules) == '{}') {\r\n\t\t\tthrow \"Add at least a rule: we received \" + JSON.stringify(this.rules)\r\n\t\t}\r\n\r\n\r\n\t\tfor (let attr in this.rules) {\r\n\t\t\tthis.createBag(attr);\r\n\t\t\tattr_rules =\r\n\t\t\t\tthis.rules[attr].constructor == Array ? this.rules[attr] : this.rules[attr].split(',');\r\n\t\t\tthis.check(attr, attr_rules);\r\n\t\t}\r\n\r\n\t\treturn this.createResponse();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an empty bag errors for each rule item.\r\n\t *\r\n\t * @returns {Object}\r\n\t */\r\n\tcreateBag(attr) {\r\n\t\tif (typeof this.errors[attr] == 'undefined') {\r\n\t\t\tthis.errors[attr] = [];\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tcreateResponse() {\r\n\t\tlet errs = JSON.stringify(this.errors);\r\n\t\tlet errors = {}\r\n\t\tlet key_errors = Object.keys(this.errors);\r\n\r\n\t\tkey_errors.forEach(key_error => {\r\n\t\t\tif(this.errors[key_error].length > 0){\r\n\t\t\t\terrors[key_error] = this.errors[key_error]\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tvar response = {\r\n\t\t\tfails() {\r\n                let keys = Object.keys(this.messages);\r\n                let fails = false;\r\n                keys.forEach(key => {\r\n                    if(this.messages[key].length > 0){\r\n                        fails = true\r\n                    }\r\n                });\r\n\t\t\t\treturn fails;\r\n\t\t\t},\r\n\t\t\tpasses() {\r\n\t\t\t\treturn !( this.fails() )\r\n\t\t\t},\r\n\t\t\tmessages: this.errors,\r\n\t\t\terrors : errors,\r\n\t\t\tfirst(attr) {\r\n\t\t\t\tif (this.has(attr)) {\r\n\t\t\t\t\treturn this.messages[attr][0];\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tget(attr) {\r\n\t\t\t\tif (this.has(attr)) {\r\n\t\t\t\t\treturn this.messages[attr];\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t},\r\n\t\t\thas(attr) {\r\n\t\t\t\tif (this.messages[attr]) {\r\n\t\t\t\t\tif (this.messages[attr].length > 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn response\r\n\t}\r\n\r\n\t/**\r\n\t * Validate each required attribute.\r\n\t *\r\n\t * @param {String} attribute\r\n\t * @param {Array} rules\r\n\t * @returns {Array}\r\n\t */\r\n\tcheck(attribute, rules) {\r\n\t\tlet value = this.data[attribute];\r\n\r\n\t\tfor (let index in rules) {\r\n\t\t\tlet err = null;\r\n\t\t\tlet rule = rules[index];\r\n\r\n\t\t\tif (this.helpers[rule] && !this.helpers[rule](value)) { //Something like this.helpers.required && !this.helpers.required(value)\r\n\r\n\t\t\t\tif (typeof this.messages[attribute] == 'undefined') { //There is not any specific message for this attribute\r\n\t\t\t\t\terr = this.getDefaultMessage(attribute, rule);\r\n\t\t\t\t} else if (typeof this.messages[attribute][rule] == 'undefined') { // There is not any specific message for the rule of the attribute\r\n\t\t\t\t\terr = this.getDefaultMessage(attribute, rule);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terr = this.messages[attribute][rule]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.messageBag({\r\n\t\t\t\t\tkey: attribute,\r\n\t\t\t\t\terror: err\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a default message depending of the type of rule.\r\n\t *\r\n\t * @returns Promise\r\n\t */\r\n\tgetDefaultMessage(attribute, rule) {\r\n\t\treturn messages_default[rule].replace(\":attribute\", attribute);\r\n\t}\r\n\r\n\t/**\r\n\t * Store errors in a bag .\r\n\t *\r\n\t * @param {Object} data\r\n\t * @return {Void}\r\n\t */\r\n\tmessageBag(data) {\r\n\t\tif (typeof this.errors[data.key] == 'undefined') {\r\n\t\t\tthis.errors[data.key] = [];\r\n\t\t}\r\n\t\tif (this.errors[data.key].indexOf(data.error) == -1) {\r\n\t\t\tthis.errors[data.key].push(data.error);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default Validator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/validator.js","import { Router } from 'express'\n\nimport users from './users'\nimport posts from './posts'\n\nvar router = Router()\n\n// Add USERS Routes\nrouter.use(users)\nrouter.use(posts)\n\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/index.js","import express from 'express'\nimport ClassUserController from '../../controllers/api/User.controller'\nvar Route = express.Router()\nvar UsersController = new ClassUserController()\nRoute.get('/users/', UsersController.index)\nRoute.post('/users/', UsersController.create)\nRoute.get('/users/:id', UsersController.find)\nRoute.put('/users/:id', UsersController.update)\nRoute.delete('/users/:id', UsersController.delete)\n\nexport default Route\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/users.js","import BaseController from '../Base.controller'\nimport UserRepository from '../../repositories/User.repository'\n\nclass UsersController extends BaseController{\n    constructor(){\n        super(new UserRepository());\n    }\n}\n\nexport default UsersController;\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/api/User.controller.js","import BaseRepository from './Base.repository'\nimport UserValidator from '../validators/User.validator'\nimport UserModel from '../models/UserModel'\n\nclass UserRepository extends BaseRepository\n{\n    constructor(){\n        super(UserModel, UserValidator)\n    }\n}\n\nexport default UserRepository\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/User.repository.js","import Validator  from './base/validator.js';\n\nclass UserValidator extends Validator\n{\n    constructor(data){\n        super();\n\n\n        this.rules = {\n            last_name : 'required',\n            first_name : 'required',\n            email : 'email'\n        }\n\n        this.messages = {\n            last_name : {\n                required : 'Es campo apellido es requerido'\n            }\n        }\n\n        this.data = data\n        this.extend({\n            empty(value) {\n                value = value\n                    ? value.toString()\n                    : null\n                return value == null || value.length == 0 || value.trim() == '';\n            }\n        })\n\n    }\n\n    static make(data = {})\n    {\n        let validate = new UserValidator(data);\n        return validate.exec()\n    }\n}\n\nexport default UserValidator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/User.validator.js","export default {\r\n\t/**\r\n\t * Check if the field is blank.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tempty(value) {\r\n\t\tif(value != null){\r\n\t\t\tvalue = value.toString()\r\n\t\t}\r\n\t\treturn value == null || value.length == 0 || value.trim() == '';\r\n\t},\r\n\t\r\n\t/**\r\n\t * No blank fields.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\trequired(value) {\r\n\t\tif (typeof value == 'boolean')\r\n\t\t\treturn value;\r\n\r\n\t\treturn !this.empty(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Numeric rule.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tnumeric(value) {\r\n\t\tlet regexp = /^(-?[1-9]\\d*|0)$/\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\r\n\r\n\t/**\r\n\t * Email rule.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\temail(value) {\r\n\t\tlet regexp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Only URL.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\turl(value) {\r\n\t\tlet regexp = /^(https?|ftp|rmtp|mms):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+)(:(\\d+))?\\/?/i\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Get first item.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tfirst(array = []) {\r\n\t\tif (array.constructor == Array) {\r\n\t\t\tif (array.length > 0) {\r\n\t\t\t\treturn array[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow \"Error getting first element, array is needed but we get \" + array.constructor.name;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/helpers/index.js","export default {\r\n\t'required': 'The field :attribute is required',\r\n\t'email': 'The field :attribute must be an email',\r\n\t'numeric': \"The field :attribute must be numeric\",\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/messages_default.js","import ClassPostController from '../../controllers/api/Posts.controller'\nvar express = require('express')\nvar Route = express.Router()\nvar PostsController = new ClassPostController()\n\nimport User from '../../models/UserModel'\nRoute.get('/test/', async (req, res) =>{\n    try{\n        let a = await User.findById(2)\n        res.status(200).json(a)\n    }catch(error){\n        console.log(error)\n        res.status(500).json({\n            error : \"Error!\"\n        })\n    }\n\n    \n    // User.findById(2, function(err, user){\n    //     console.log(user)\n    //     if(user){\n    //         res.status(200).json({\n    //             user\n    //         })\n    //     }\n    // })\n});\n\nRoute.get('/posts/', PostsController.index)\nRoute.post('/posts/', PostsController.create)\nRoute.get('/posts/:id', PostsController.find)\nRoute.put('/posts/:id', PostsController.update)\nRoute.delete('/posts/:id', PostsController.delete)\n\nexport default Route\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/posts.js","import BaseController from '../Base.controller'\nimport PostRepository from '../../repositories/Post.repository'\nclass PostsController extends BaseController {\n  constructor () {\n    super(new PostRepository())\n  }\n}\nexport default PostsController\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/api/Posts.controller.js","import BaseRepository from './Base.repository'\nimport PostValidator from '../validators/Post.validator'\nimport PostModel from '../models/post'\n\nclass PostRepository extends BaseRepository {\n  constructor () {\n    super(PostModel, PostValidator)\n  }\n}\n\nexport default PostRepository\n\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/Post.repository.js","import Validator from './base/validator.js';\n\nclass PostValidator extends Validator\n{\n    constructor(data){\n        super();\n\n\n        this.rules = {\n            title : 'required',\n            description : 'required',\n        }\n\n        this.messages = {\n            title : {\n                required : 'Es campo title es requerido'\n            }\n        }\n\n        this.data = data\n        this.extend({\n            empty(value) {\n                value = value\n                    ? value.toString()\n                    : null\n                return value == null || value.length == 0 || value.trim() == '';\n            }\n        })\n\n    }\n\n    static make(data = {})\n    {\n        let validate = new PostValidator(data);\n        return validate.exec()\n    }\n}\n\nexport default PostValidator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/Post.validator.js"," 'use strict'\n import mongoose from 'mongoose'\n let Schema = mongoose.Schema\n let PostSchema = {\n    title : {\n        type : String,\n        required : true,\n    },\n    description: {\n        type: String,\n        required : true,\n    },\n    user_id: {\n        type : Number,\n        required : false\n    }\n }\n\n export default mongoose.model('Post', PostSchema, 'posts')\n \n\n\n\n// WEBPACK FOOTER //\n// ./server/models/post.js","/**\n *  User schema\n *\n *  Created by create caminte-cli script\n *  App based on CaminteJS\n *  CaminteJS homepage http://www.camintejs.com\n **/\n\n/**\n *  Define User Model\n *  @param {Object} schema\n *  @return {Object}\n **/\nimport { schema } from '../database/connection'\n\nvar User = schema.define('users', {\n  id: { type: schema.Number },\n  active: { type: schema.Number },\n  first_name: { type: schema.String },\n  last_name: { type: schema.String },\n  email: {type: schema.String, unique: true},\n  password: { type: schema.String },\n  created_at: { type: schema.Date },\n  updated_at: { type: schema.Date }\n}, {\n  primaryKeys: ['id']\n})\n\nUser.afterUpdate = function (next) {\n  this.updated_at = new Date()\n  this.save()\n  next()\n}\n\nUser.afterCreate = function (next) {\n  this.created_at = new Date()\n  this.updated_at = new Date()\n  this.save()\n  next()\n}\nexport default User\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/UserModel.js"],"sourceRoot":""}