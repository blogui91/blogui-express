{"version":3,"sources":["webpack:///webpack/bootstrap 45ad6d40271428e42eb6","webpack:///external \"express\"","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///external \"mongoose\"","webpack:///./server/controllers/Base.controller.js","webpack:///./server/repositories/Base.repository.js","webpack:///./server/validators/base/validator.js","webpack:///./server/index.js","webpack:///external \"regenerator-runtime\"","webpack:///./nuxt.config.js","webpack:///external \"nuxt\"","webpack:///external \"serve-favicon\"","webpack:///external \"morgan\"","webpack:///external \"cookie-parser\"","webpack:///external \"body-parser\"","webpack:///./server/routes/api/index.js","webpack:///./server/routes/api/users.js","webpack:///./server/controllers/api/User.controller.js","webpack:///./server/repositories/User.repository.js","webpack:///./server/validators/User.validator.js","webpack:///./server/validators/base/helpers/index.js","webpack:///./server/validators/base/messages_default.js","webpack:///./server/models/user.js","webpack:///./server/routes/api/posts.js","webpack:///./server/controllers/api/Posts.controller.js","webpack:///./server/repositories/Post.repository.js","webpack:///./server/validators/Post.validator.js","webpack:///./server/models/post.js"],"names":["BaseController","repository","bindFunctions","context","methodNames","map","methodName","bind","req","res","findAll","operation","status","json","console","log","request","response","id","params","find","update","body","delete","create","Repository","model","validator","make","resource","passes","createAndFill","save","transaction","createModel","findOne","_id","query","data","remove","Helpers","require","messages_default","Validator","rules","messages","customValidators","constructor","Object","errors","loadHelpers","extend","helpers","validators","assign","attr_rules","JSON","stringify","attr","createBag","Array","split","check","createResponse","errs","key_errors","keys","forEach","key_error","length","fails","key","first","has","get","attribute","value","index","err","rule","getDefaultMessage","messageBag","error","replace","indexOf","push","validate","exec","config","dev","nuxt","mongoose","connect","app","use","render","listen","port","host","on","onError","onListening","start","Promise","global","favicon","logger","cookieParser","bodyParser","express","process","env","HOST","PORT","urlencoded","extended","set","syscall","code","exit","addr","server","address","debug","module","exports","head","title","meta","charset","name","content","hid","link","rel","type","href","css","build","vendor","ctx","isClient","enforce","test","loader","exclude","router","Router","Route","UsersController","post","put","UserRepository","UserValidator","last_name","first_name","email","required","empty","toString","trim","numeric","regexp","url","array","Schema","UserSchema","String","unique","password","avatar","enabled","Boolean","defaultValue","PostsController","PostRepository","PostValidator","description","PostSchema","user_id","Number"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 45ad6d40271428e42eb6","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 2\n// module chunks = 0","class BaseController \n{\n    constructor(repository){\n        this.repository = repository\n        this.bindFunctions(this, [\"index\", \"find\", \"update\", \"delete\",\"create\"]);\n    }\n\n    bindFunctions(context, methodNames) {\n        methodNames.map(function(methodName) {\n            context[methodName] = context[methodName].bind(context);\n        });\n    };\n\n    async index(req, res){\n        try{\n            let operation = await this.repository.findAll();\n            res.status(200).json(operation)\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async find(request, response){\n        let id = request.params.id;\n        try{\n            let operation = await this.repository.find(id);\n            response.status(200).json(operation)\n        }catch(error){\n            throw error\n        }\n    }\n\n    async update(request,response){\n        let id = request.params.id\n        try{\n            let operation = await this.repository.update(id, request.body);\n            response.status(200).json(operation)\n        }catch(error){\n            response.status(500).json(error)\n        }\n    }\n\n    async delete(request, response){\n        let id = request.params.id;\n        try{\n            let operation = await this.repository.delete(id);\n            response.status(200).json(operation)\n        }catch(error){\n            response.status(500).json(error)\n        }\n    }\n\n    async create(request , response){\n        let body = request.body\n\n        console.log(request.body)\n        try{\n            let operation = await this.repository.create(body);\n            return response.status(202).json(operation)     \n        }catch(error){\n            return response.status(500).json(error)     \n        }\n    }\n\n}\n\nexport default BaseController\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/Base.controller.js","class Repository\n{\n    constructor(model, validator){\n        this.model = model\n        this.validator = validator\n    }\n\n    createModel(){\n        return this.model\n    }\n\n    createAndFill(body){\n        return new this.model(body)\n    }\n\n    async create(body){\n        let validator = this.validator.make(body);\n        let response = {\n            validator : validator,\n            resource : null\n        }\n        if(validator.passes()){\n            try{\n                let resource = this.createAndFill(body);\n                console.log(\"Resource:   \", body)\n                //let transaction = await this.createModel().create(body)\n                let transaction = await resource.save();\n                response.resource = transaction\n                return response\n            }catch(error){\n                console.log(error)\n                return error\n            }\n        }\n        \n        return response\n        \n    }\n\n    async find(id){\n        try {\n            let query = await this.createModel().findOne({\n                 _id: id\n            });\n            return query\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async findAll(){\n        try {\n            let query = await this.createModel().find({ });\n            return query\n        }catch(error){\n            console.log(error)\n            throw error\n        }\n    }\n\n    async update(id, data){\n        try{\n            let transaction = await this.createModel().update({ _id: id }, data);\n            return transaction;\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async delete(id){\n        try{\n            let transaction = await this.createModel().remove({\n                _id : id\n            })\n            return transaction;\n        }catch(error){\n            return error;\n        }\n    }\n\n}\nexport default Repository\n\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/Base.repository.js","/* \r\n *\tValidator JS |\r\n *\t(c) 2017 by Cesar Santana \r\n */\r\n\r\n\r\nconst Helpers =  require('./helpers');\r\nconst messages_default = require('./messages_default');\r\n\r\nclass Validator {\r\n\t/**\r\n\t * Create a new instance.\r\n\t *\r\n\t * @param {Object} data required\r\n\t * @param {Object} rules required\r\n\t * @param {Object} messages\r\n\t */\r\n\tconstructor(data, rules, messages, customValidators = {}) {\r\n\t\t//contains the validation errors.\r\n\t\tif (customValidators.constructor != Object) {\r\n\t\t\tthrow \"You must send your validator as a function inside of an object\"\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.errors = {};\r\n\r\n\t\t//the data to be checked out.\r\n\t\tthis.data = data;\r\n\r\n\t\t//the rules required.\r\n\t\tthis.rules = rules;\r\n\r\n\t\t//Error messages container.\r\n\t\tthis.messages = messages;\r\n\r\n\t\tthis.loadHelpers(Helpers);\r\n\t\tthis.extend(customValidators)\r\n\t}\r\n\r\n\r\n\r\n\tloadHelpers(helpers) {\r\n\t\tthis.helpers = helpers;\r\n\t}\r\n\r\n\r\n\textend(validators) {\r\n\t\tObject.assign(this.helpers, validators);\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new static instance.\r\n\t *\r\n\t * @param {Object} data required\r\n\t * @param {Object} rules required\r\n\t * @param {Object} messages optional\r\n\t */\r\n\tstatic make(data = {}, rules = {}, messages = {}, customValidators = {}) {\r\n\t\tlet validate = new Validator(data, rules, messages, customValidators);\r\n\r\n\t\t//Validate if \r\n\t\tif (JSON.stringify(this.data) == '{}') throw \"Add some data to validate: we received \" + JSON.stringify(this.rules)\r\n\r\n\t\treturn validate.exec();\r\n\t}\r\n\r\n\t/**\r\n\t * Executes  validations rules.\r\n\t *\r\n\t * @returns {Object}\r\n\t */\r\n\texec() {\r\n\t\tlet attr_rules = null;\r\n\r\n\t\tif (JSON.stringify(this.rules) == '{}') {\r\n\t\t\tthrow \"Add at least a rule: we received \" + JSON.stringify(this.rules)\r\n\t\t}\r\n\r\n\r\n\t\tfor (let attr in this.rules) {\r\n\t\t\tthis.createBag(attr);\r\n\t\t\tattr_rules =\r\n\t\t\t\tthis.rules[attr].constructor == Array ? this.rules[attr] : this.rules[attr].split(',');\r\n\t\t\tthis.check(attr, attr_rules);\r\n\t\t}\r\n\r\n\t\treturn this.createResponse();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an empty bag errors for each rule item.\r\n\t *\r\n\t * @returns {Object}\r\n\t */\r\n\tcreateBag(attr) {\r\n\t\tif (typeof this.errors[attr] == 'undefined') {\r\n\t\t\tthis.errors[attr] = [];\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tcreateResponse() {\r\n\t\tlet errs = JSON.stringify(this.errors);\r\n\t\tlet errors = {}\r\n\t\tlet key_errors = Object.keys(this.errors);\r\n\r\n\t\tkey_errors.forEach(key_error => {\r\n\t\t\tif(this.errors[key_error].length > 0){\r\n\t\t\t\terrors[key_error] = this.errors[key_error]\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tvar response = {\r\n\t\t\tfails() {\r\n                let keys = Object.keys(this.messages);\r\n                let fails = false;\r\n                keys.forEach(key => {\r\n                    if(this.messages[key].length > 0){\r\n                        fails = true\r\n                    }\r\n                });\r\n\t\t\t\treturn fails;\r\n\t\t\t},\r\n\t\t\tpasses() {\r\n\t\t\t\treturn !( this.fails() )\r\n\t\t\t},\r\n\t\t\tmessages: this.errors,\r\n\t\t\terrors : errors,\r\n\t\t\tfirst(attr) {\r\n\t\t\t\tif (this.has(attr)) {\r\n\t\t\t\t\treturn this.messages[attr][0];\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tget(attr) {\r\n\t\t\t\tif (this.has(attr)) {\r\n\t\t\t\t\treturn this.messages[attr];\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t},\r\n\t\t\thas(attr) {\r\n\t\t\t\tif (this.messages[attr]) {\r\n\t\t\t\t\tif (this.messages[attr].length > 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn response\r\n\t}\r\n\r\n\t/**\r\n\t * Validate each required attribute.\r\n\t *\r\n\t * @param {String} attribute\r\n\t * @param {Array} rules\r\n\t * @returns {Array}\r\n\t */\r\n\tcheck(attribute, rules) {\r\n\t\tlet value = this.data[attribute];\r\n\r\n\t\tfor (let index in rules) {\r\n\t\t\tlet err = null;\r\n\t\t\tlet rule = rules[index];\r\n\r\n\t\t\tif (this.helpers[rule] && !this.helpers[rule](value)) { //Something like this.helpers.required && !this.helpers.required(value)\r\n\r\n\t\t\t\tif (typeof this.messages[attribute] == 'undefined') { //There is not any specific message for this attribute\r\n\t\t\t\t\terr = this.getDefaultMessage(attribute, rule);\r\n\t\t\t\t} else if (typeof this.messages[attribute][rule] == 'undefined') { // There is not any specific message for the rule of the attribute\r\n\t\t\t\t\terr = this.getDefaultMessage(attribute, rule);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terr = this.messages[attribute][rule]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.messageBag({\r\n\t\t\t\t\tkey: attribute,\r\n\t\t\t\t\terror: err\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a default message depending of the type of rule.\r\n\t *\r\n\t * @returns Promise\r\n\t */\r\n\tgetDefaultMessage(attribute, rule) {\r\n\t\treturn messages_default[rule].replace(\":attribute\", attribute);\r\n\t}\r\n\r\n\t/**\r\n\t * Store errors in a bag .\r\n\t *\r\n\t * @param {Object} data\r\n\t * @return {Void}\r\n\t */\r\n\tmessageBag(data) {\r\n\t\tif (typeof this.errors[data.key] == 'undefined') {\r\n\t\t\tthis.errors[data.key] = [];\r\n\t\t}\r\n\t\tif (this.errors[data.key].indexOf(data.error) == -1) {\r\n\t\t\tthis.errors[data.key].push(data.error);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default Validator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/validator.js","import Nuxt from 'nuxt'\nimport express from 'express'\n\nimport mongoose from 'mongoose';\nmongoose.Promise = global.Promise;\nvar favicon = require('serve-favicon');\nvar logger = require('morgan');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\n//Routes\n\nimport api from './routes/api'\n\nconst app = express()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\n\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\n\napp.set('port', port)\n// Import API Routes\napp.use('/api', api)\n\n// Start nuxt.js\nasync function start () {\n  // Import and Set Nuxt.js options\n  let config = require('../nuxt.config.js')\n  config.dev = !(process.env.NODE_ENV === 'production')\n\n  try {\n    // Instanciate nuxt.js\n    const nuxt = new Nuxt(config)\n    try {\n      mongoose.connect('mongodb://localhost/test');\n      console.log('connection succesful')\n\n      // Add nuxt.js middleware\n      app.use(nuxt.render)\n      // Listen the server\n      app.listen(port, host)\n      app.on('error', onError)\n      app.on('listening', onListening)\n\n    } catch (error) {\n      console.error(error)\n    }\n  } catch (error) {\n    console.error('Server runtime error', error)\n  }\n}\n\nstart()\n/**\n * Event listener for HTTP server \"error\" event.\n */\n\nfunction onError (error) {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  var bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  // handle specific listen errors with friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1) ;\n      break ;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1) ;\n      break ;\n    default:\n      throw error ;\n  }\n}\n\n/**\n * Event listener for HTTP server \"listening\" event.\n */\n\nfunction onListening() {\n  var addr = server.address();\n  var bind = typeof addr === 'string'\n    ? 'pipe ' + addr\n    : 'port ' + addr.port;\n  debug('Listening on ' + bind);\n  console.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 7\n// module chunks = 0","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'starter',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/main.css'],\n  /*\n  ** Add axios globally\n  */\n  build: {\n    vendor: ['axios'],\n    /*\n    ** Run ESLINT on save\n    */\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 13\n// module chunks = 0","import { Router } from 'express'\n\nimport users from './users'\nimport posts from './posts'\n\nvar router = Router()\n\n// Add USERS Routes\nrouter.use(users)\nrouter.use(posts)\n\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/index.js","import express from 'express'\nimport ClassUserController from '../../controllers/api/User.controller'\nvar Route = express.Router()\nvar UsersController = new ClassUserController()\nRoute.get('/users/', UsersController.index)\nRoute.post('/users/', UsersController.create)\nRoute.get('/users/:id', UsersController.find)\nRoute.put('/users/:id', UsersController.update)\nRoute.delete('/users/:id', UsersController.delete)\n\nexport default Route\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/users.js","import BaseController from '../Base.controller'\nimport UserRepository from '../../repositories/User.repository'\n\nclass UsersController extends BaseController{\n    constructor(){\n        super(new UserRepository());\n    }\n}\n\nexport default UsersController;\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/api/User.controller.js","import BaseRepository from './Base.repository'\nimport UserValidator from '../validators/User.validator'\nimport UserModel from '../models/user'\n\nclass UserRepository extends BaseRepository\n{\n    constructor(){\n        super(UserModel, UserValidator)\n    }\n}\n\nexport default UserRepository\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/User.repository.js","import Validator  from './base/validator.js';\n\nclass UserValidator extends Validator\n{\n    constructor(data){\n        super();\n\n\n        this.rules = {\n            last_name : 'required',\n            first_name : 'required',\n            email : 'email'\n        }\n\n        this.messages = {\n            last_name : {\n                required : 'Es campo apellido es requerido'\n            }\n        }\n\n        this.data = data\n        this.extend({\n            empty(value) {\n                value = value\n                    ? value.toString()\n                    : null\n                return value == null || value.length == 0 || value.trim() == '';\n            }\n        })\n\n    }\n\n    static make(data = {})\n    {\n        let validate = new UserValidator(data);\n        return validate.exec()\n    }\n}\n\nexport default UserValidator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/User.validator.js","export default {\r\n\t/**\r\n\t * Check if the field is blank.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tempty(value) {\r\n\t\tif(value != null){\r\n\t\t\tvalue = value.toString()\r\n\t\t}\r\n\t\treturn value == null || value.length == 0 || value.trim() == '';\r\n\t},\r\n\t\r\n\t/**\r\n\t * No blank fields.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\trequired(value) {\r\n\t\tif (typeof value == 'boolean')\r\n\t\t\treturn value;\r\n\r\n\t\treturn !this.empty(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Numeric rule.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tnumeric(value) {\r\n\t\tlet regexp = /^(-?[1-9]\\d*|0)$/\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\r\n\r\n\t/**\r\n\t * Email rule.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\temail(value) {\r\n\t\tlet regexp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Only URL.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\turl(value) {\r\n\t\tlet regexp = /^(https?|ftp|rmtp|mms):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+)(:(\\d+))?\\/?/i\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Get first item.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tfirst(array = []) {\r\n\t\tif (array.constructor == Array) {\r\n\t\t\tif (array.length > 0) {\r\n\t\t\t\treturn array[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow \"Error getting first element, array is needed but we get \" + array.constructor.name;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/helpers/index.js","export default {\r\n\t'required': 'The field :attribute is required',\r\n\t'email': 'The field :attribute must be an email',\r\n\t'numeric': \"The field :attribute must be numeric\",\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/messages_default.js","'use strict';\n\nimport mongoose from 'mongoose';\nlet Schema = mongoose.Schema;\nlet UserSchema = {\n    first_name : {\n        type : String,\n        required : true,\n    },\n    last_name  : {\n        type : String,\n        required : true,\n    },\n    email : {\n        type : String,\n        unique : true,\n        required : true,\n    },\n    password : {\n    type : String,\n\n    },\n    avatar : String,\n    enabled : {\n        type : Boolean,\n        defaultValue : true\n    }\n}\n\nexport default mongoose.model('User', UserSchema, 'users')\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","import ClassPostController from '../../controllers/api/Posts.controller'\nvar express = require('express')\nvar Route = express.Router()\nvar PostsController = new ClassPostController()\n\nRoute.get('/posts/', PostsController.index)\nRoute.post('/posts/', PostsController.create)\nRoute.get('/posts/:id', PostsController.find)\nRoute.put('/posts/:id', PostsController.update)\nRoute.delete('/posts/:id', PostsController.delete)\n\nexport default Route\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/posts.js","import BaseController from '../Base.controller'\nimport PostRepository from '../../repositories/Post.repository'\nclass PostsController extends BaseController{\n    constructor(){\n        super(new PostRepository())\n    }\n}\nexport default PostsController\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/api/Posts.controller.js","import BaseRepository from './Base.repository'\nimport PostValidator from '../validators/Post.validator'\nimport PostModel from '../models/post'\n\nclass PostRepository extends BaseRepository {\n  constructor () {\n    super(PostModel, PostValidator)\n  }\n}\n\nexport default PostRepository\n\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/Post.repository.js","import Validator from './base/validator.js';\n\nclass PostValidator extends Validator\n{\n    constructor(data){\n        super();\n\n\n        this.rules = {\n            title : 'required',\n            description : 'required',\n        }\n\n        this.messages = {\n            title : {\n                required : 'Es campo title es requerido'\n            }\n        }\n\n        this.data = data\n        this.extend({\n            empty(value) {\n                value = value\n                    ? value.toString()\n                    : null\n                return value == null || value.length == 0 || value.trim() == '';\n            }\n        })\n\n    }\n\n    static make(data = {})\n    {\n        let validate = new PostValidator(data);\n        return validate.exec()\n    }\n}\n\nexport default PostValidator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/Post.validator.js"," 'use strict'\n import mongoose from 'mongoose'\n let Schema = mongoose.Schema\n let PostSchema = {\n    title : {\n        type : String,\n        required : true,\n    },\n    description: {\n        type: String,\n        required : true,\n    },\n    user_id: {\n        type : Number,\n        required : false\n    }\n }\n\n export default mongoose.model('Post', PostSchema, 'posts')\n \n\n\n\n// WEBPACK FOOTER //\n// ./server/models/post.js"],"sourceRoot":""}