{"version":3,"sources":["webpack:///webpack/bootstrap c699e754b972ac9dde66","webpack:///external \"express\"","webpack:///./server/index.js","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///external \"regenerator-runtime\"","webpack:///./nuxt.config.js","webpack:///external \"nuxt\"","webpack:///./server/routes/api/index.js","webpack:///./server/routes/api/users.js","webpack:///external \"mongoose\"","webpack:///./server/controllers/api/User.controller.js","webpack:///./server/controllers/Base.controller.js","webpack:///./server/repositories/User.repository.js","webpack:///./server/repositories/Base.repository.js","webpack:///./server/validators/User.validator.js","webpack:///./server/validators/base/validator.js","webpack:///./server/validators/base/helpers/index.js","webpack:///./server/validators/base/messages_default.js","webpack:///./server/models/user.js","webpack:///external \"serve-favicon\"","webpack:///external \"morgan\"","webpack:///external \"cookie-parser\"","webpack:///external \"body-parser\"","webpack:///./server/controllers/api/Posts.controller.js","webpack:///./server/repositories/Post.repository.js","webpack:///./server/validators/Post.validator.js","webpack:///./server/models/post.js","webpack:///./server/routes/api/posts.js"],"names":["config","require","dev","nuxt","mongoose","connect","console","log","app","use","render","listen","port","host","on","onError","onListening","error","start","Promise","global","favicon","logger","cookieParser","bodyParser","express","process","env","HOST","PORT","json","urlencoded","extended","set","syscall","bind","code","exit","addr","server","address","debug","module","exports","head","title","meta","charset","name","content","hid","link","rel","type","href","css","build","vendor","extend","ctx","isClient","rules","push","enforce","test","loader","exclude","router","Router","Route","UsersController","get","index","post","create","find","put","update","delete","BaseController","repository","bindFunctions","context","methodNames","map","methodName","req","res","findAll","operation","status","request","response","id","params","body","UserRepository","Repository","model","validator","make","resource","passes","createAndFill","save","transaction","createModel","findOne","_id","query","data","remove","UserValidator","last_name","first_name","email","messages","required","empty","value","toString","length","trim","validate","exec","Helpers","messages_default","Validator","customValidators","constructor","Object","errors","loadHelpers","helpers","validators","assign","attr_rules","JSON","stringify","attr","createBag","Array","split","check","createResponse","errs","key_errors","keys","forEach","key_error","fails","key","first","has","attribute","err","rule","getDefaultMessage","messageBag","replace","indexOf","numeric","regexp","url","array","Schema","UserSchema","String","unique","password","avatar","enabled","Boolean","defaultValue","PostsController","PostRepository","PostValidator","description","PostSchema","user_id","Number"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c699e754b972ac9dde66","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","import Nuxt from 'nuxt'\nimport express from 'express'\n\nimport mongoose from 'mongoose';\nmongoose.Promise = global.Promise;\nvar favicon = require('serve-favicon');\nvar logger = require('morgan');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\n//Routes\n\nimport api from './routes/api'\n\nconst app = express()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\n\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\n\napp.set('port', port)\n// Import API Routes\napp.use('/api', api)\n\n// Start nuxt.js\nasync function start () {\n  // Import and Set Nuxt.js options\n  let config = require('../nuxt.config.js')\n  config.dev = !(process.env.NODE_ENV === 'production')\n\n  try {\n    // Instanciate nuxt.js\n    const nuxt = new Nuxt(config)\n    try {\n      mongoose.connect('mongodb://localhost/test');\n      console.log('connection succesful')\n\n      // Add nuxt.js middleware\n      app.use(nuxt.render)\n      // Listen the server\n      app.listen(port, host)\n      app.on('error', onError)\n      app.on('listening', onListening)\n\n    } catch (error) {\n      console.error(error)\n    }\n  } catch (error) {\n    console.error('Server runtime error', error)\n  }\n}\n\nstart()\n/**\n * Event listener for HTTP server \"error\" event.\n */\n\nfunction onError (error) {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  var bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  // handle specific listen errors with friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1) ;\n      break ;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1) ;\n      break ;\n    default:\n      throw error ;\n  }\n}\n\n/**\n * Event listener for HTTP server \"listening\" event.\n */\n\nfunction onListening() {\n  var addr = server.address();\n  var bind = typeof addr === 'string'\n    ? 'pipe ' + addr\n    : 'port ' + addr.port;\n  debug('Listening on ' + bind);\n  console.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 2\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 3\n// module chunks = 0","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'starter',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/main.css'],\n  /*\n  ** Add axios globally\n  */\n  build: {\n    vendor: ['axios'],\n    /*\n    ** Run ESLINT on save\n    */\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 5\n// module chunks = 0","import { Router } from 'express'\n\nimport users from './users'\nimport posts from './posts'\n\nvar router = Router()\n\n// Add USERS Routes\nrouter.use(users)\nrouter.use(posts)\n\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/index.js","import express from 'express'\nimport ClassUserController from '../../controllers/api/User.controller'\nvar Route = express.Router()\nvar UsersController = new ClassUserController()\nRoute.get('/users/', UsersController.index)\nRoute.post('/users/', UsersController.create)\nRoute.get('/users/:id', UsersController.find)\nRoute.put('/users/:id', UsersController.update)\nRoute.delete('/users/:id', UsersController.delete)\n\nexport default Route\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/users.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 8\n// module chunks = 0","import BaseController from '../Base.controller'\nimport UserRepository from '../../repositories/User.repository'\n\nclass UsersController extends BaseController{\n    constructor(){\n        super(new UserRepository());\n    }\n}\n\nexport default UsersController;\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/api/User.controller.js","class BaseController \n{\n    constructor(repository){\n        this.repository = repository\n        this.bindFunctions(this, [\"index\", \"find\", \"update\", \"delete\",\"create\"]);\n    }\n\n    bindFunctions(context, methodNames) {\n        methodNames.map(function(methodName) {\n            context[methodName] = context[methodName].bind(context);\n        });\n    };\n\n    async index(req, res){\n        try{\n            let operation = await this.repository.findAll();\n            res.status(200).json(operation)\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async find(request, response){\n        let id = request.params.id;\n        try{\n            let operation = await this.repository.find(id);\n            response.status(200).json(operation)\n        }catch(error){\n            throw error\n        }\n    }\n\n    async update(request,response){\n        let id = request.params.id\n        try{\n            let operation = await this.repository.update(id, request.body);\n            response.status(200).json(operation)\n        }catch(error){\n            response.status(500).json(error)\n        }\n    }\n\n    async delete(request, response){\n        let id = request.params.id;\n        try{\n            let operation = await this.repository.delete(id);\n            response.status(200).json(operation)\n        }catch(error){\n            response.status(500).json(error)\n        }\n    }\n\n    async create(request , response){\n        let body = request.body\n\n        console.log(request.body)\n        try{\n            let operation = await this.repository.create(body);\n            return response.status(202).json(operation)     \n        }catch(error){\n            return response.status(500).json(error)     \n        }\n    }\n\n}\n\nexport default BaseController\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/Base.controller.js","import BaseRepository from './Base.repository'\nimport UserValidator from '../validators/User.validator'\nimport UserModel from '../models/user'\n\nclass UserRepository extends BaseRepository\n{\n    constructor(){\n        super(UserModel, UserValidator)\n    }\n}\n\nexport default UserRepository\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/User.repository.js","class Repository\n{\n    constructor(model, validator){\n        this.model = model\n        this.validator = validator\n    }\n\n    createModel(){\n        return this.model\n    }\n\n    createAndFill(body){\n        return new this.model(body)\n    }\n\n    async create(body){\n        let validator = this.validator.make(body);\n        let response = {\n            validator : validator,\n            resource : null\n        }\n        if(validator.passes()){\n            try{\n                let resource = this.createAndFill(body);\n                console.log(\"Resource:   \", body)\n                //let transaction = await this.createModel().create(body)\n                let transaction = await resource.save();\n                response.resource = transaction\n                return response\n            }catch(error){\n                console.log(error)\n                return error\n            }\n        }\n        \n        return response\n        \n    }\n\n    async find(id){\n        try {\n            let query = await this.createModel().findOne({\n                 _id: id\n            });\n            return query\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async findAll(){\n        try {\n            let query = await this.createModel().find({ });\n            return query\n        }catch(error){\n            console.log(error)\n            throw error\n        }\n    }\n\n    async update(id, data){\n        try{\n            let transaction = await this.createModel().update({ _id: id }, data);\n            return transaction;\n        }catch(error){\n            console.log(\"error \",error)\n            throw error\n        }\n    }\n\n    async delete(id){\n        try{\n            let transaction = await this.createModel().remove({\n                _id : id\n            })\n            return transaction;\n        }catch(error){\n            return error;\n        }\n    }\n\n}\nexport default Repository\n\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/Base.repository.js","import Validator  from './base/validator.js';\n\nclass UserValidator extends Validator\n{\n    constructor(data){\n        super();\n\n\n        this.rules = {\n            last_name : 'required',\n            first_name : 'required',\n            email : 'email'\n        }\n\n        this.messages = {\n            last_name : {\n                required : 'Es campo apellido es requerido'\n            }\n        }\n\n        this.data = data\n        this.extend({\n            empty(value) {\n                value = value\n                    ? value.toString()\n                    : null\n                return value == null || value.length == 0 || value.trim() == '';\n            }\n        })\n\n    }\n\n    static make(data = {})\n    {\n        let validate = new UserValidator(data);\n        return validate.exec()\n    }\n}\n\nexport default UserValidator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/User.validator.js","/* \r\n *\tValidator JS |\r\n *\t(c) 2017 by Cesar Santana \r\n */\r\n\r\n\r\nconst Helpers =  require('./helpers');\r\nconst messages_default = require('./messages_default');\r\n\r\nclass Validator {\r\n\t/**\r\n\t * Create a new instance.\r\n\t *\r\n\t * @param {Object} data required\r\n\t * @param {Object} rules required\r\n\t * @param {Object} messages\r\n\t */\r\n\tconstructor(data, rules, messages, customValidators = {}) {\r\n\t\t//contains the validation errors.\r\n\t\tif (customValidators.constructor != Object) {\r\n\t\t\tthrow \"You must send your validator as a function inside of an object\"\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.errors = {};\r\n\r\n\t\t//the data to be checked out.\r\n\t\tthis.data = data;\r\n\r\n\t\t//the rules required.\r\n\t\tthis.rules = rules;\r\n\r\n\t\t//Error messages container.\r\n\t\tthis.messages = messages;\r\n\r\n\t\tthis.loadHelpers(Helpers);\r\n\t\tthis.extend(customValidators)\r\n\t}\r\n\r\n\r\n\r\n\tloadHelpers(helpers) {\r\n\t\tthis.helpers = helpers;\r\n\t}\r\n\r\n\r\n\textend(validators) {\r\n\t\tObject.assign(this.helpers, validators);\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new static instance.\r\n\t *\r\n\t * @param {Object} data required\r\n\t * @param {Object} rules required\r\n\t * @param {Object} messages optional\r\n\t */\r\n\tstatic make(data = {}, rules = {}, messages = {}, customValidators = {}) {\r\n\t\tlet validate = new Validator(data, rules, messages, customValidators);\r\n\r\n\t\t//Validate if \r\n\t\tif (JSON.stringify(this.data) == '{}') throw \"Add some data to validate: we received \" + JSON.stringify(this.rules)\r\n\r\n\t\treturn validate.exec();\r\n\t}\r\n\r\n\t/**\r\n\t * Executes  validations rules.\r\n\t *\r\n\t * @returns {Object}\r\n\t */\r\n\texec() {\r\n\t\tlet attr_rules = null;\r\n\r\n\t\tif (JSON.stringify(this.rules) == '{}') {\r\n\t\t\tthrow \"Add at least a rule: we received \" + JSON.stringify(this.rules)\r\n\t\t}\r\n\r\n\r\n\t\tfor (let attr in this.rules) {\r\n\t\t\tthis.createBag(attr);\r\n\t\t\tattr_rules =\r\n\t\t\t\tthis.rules[attr].constructor == Array ? this.rules[attr] : this.rules[attr].split(',');\r\n\t\t\tthis.check(attr, attr_rules);\r\n\t\t}\r\n\r\n\t\treturn this.createResponse();\r\n\t}\r\n\r\n\t/**\r\n\t * Create an empty bag errors for each rule item.\r\n\t *\r\n\t * @returns {Object}\r\n\t */\r\n\tcreateBag(attr) {\r\n\t\tif (typeof this.errors[attr] == 'undefined') {\r\n\t\t\tthis.errors[attr] = [];\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tcreateResponse() {\r\n\t\tlet errs = JSON.stringify(this.errors);\r\n\t\tlet errors = {}\r\n\t\tlet key_errors = Object.keys(this.errors);\r\n\r\n\t\tkey_errors.forEach(key_error => {\r\n\t\t\tif(this.errors[key_error].length > 0){\r\n\t\t\t\terrors[key_error] = this.errors[key_error]\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tvar response = {\r\n\t\t\tfails() {\r\n                let keys = Object.keys(this.messages);\r\n                let fails = false;\r\n                keys.forEach(key => {\r\n                    if(this.messages[key].length > 0){\r\n                        fails = true\r\n                    }\r\n                });\r\n\t\t\t\treturn fails;\r\n\t\t\t},\r\n\t\t\tpasses() {\r\n\t\t\t\treturn !( this.fails() )\r\n\t\t\t},\r\n\t\t\tmessages: this.errors,\r\n\t\t\terrors : errors,\r\n\t\t\tfirst(attr) {\r\n\t\t\t\tif (this.has(attr)) {\r\n\t\t\t\t\treturn this.messages[attr][0];\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tget(attr) {\r\n\t\t\t\tif (this.has(attr)) {\r\n\t\t\t\t\treturn this.messages[attr];\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t},\r\n\t\t\thas(attr) {\r\n\t\t\t\tif (this.messages[attr]) {\r\n\t\t\t\t\tif (this.messages[attr].length > 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn response\r\n\t}\r\n\r\n\t/**\r\n\t * Validate each required attribute.\r\n\t *\r\n\t * @param {String} attribute\r\n\t * @param {Array} rules\r\n\t * @returns {Array}\r\n\t */\r\n\tcheck(attribute, rules) {\r\n\t\tlet value = this.data[attribute];\r\n\r\n\t\tfor (let index in rules) {\r\n\t\t\tlet err = null;\r\n\t\t\tlet rule = rules[index];\r\n\r\n\t\t\tif (this.helpers[rule] && !this.helpers[rule](value)) { //Something like this.helpers.required && !this.helpers.required(value)\r\n\r\n\t\t\t\tif (typeof this.messages[attribute] == 'undefined') { //There is not any specific message for this attribute\r\n\t\t\t\t\terr = this.getDefaultMessage(attribute, rule);\r\n\t\t\t\t} else if (typeof this.messages[attribute][rule] == 'undefined') { // There is not any specific message for the rule of the attribute\r\n\t\t\t\t\terr = this.getDefaultMessage(attribute, rule);\r\n\t\t\t\t} else {\r\n\t\t\t\t\terr = this.messages[attribute][rule]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.messageBag({\r\n\t\t\t\t\tkey: attribute,\r\n\t\t\t\t\terror: err\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a default message depending of the type of rule.\r\n\t *\r\n\t * @returns Promise\r\n\t */\r\n\tgetDefaultMessage(attribute, rule) {\r\n\t\treturn messages_default[rule].replace(\":attribute\", attribute);\r\n\t}\r\n\r\n\t/**\r\n\t * Store errors in a bag .\r\n\t *\r\n\t * @param {Object} data\r\n\t * @return {Void}\r\n\t */\r\n\tmessageBag(data) {\r\n\t\tif (typeof this.errors[data.key] == 'undefined') {\r\n\t\t\tthis.errors[data.key] = [];\r\n\t\t}\r\n\t\tif (this.errors[data.key].indexOf(data.error) == -1) {\r\n\t\t\tthis.errors[data.key].push(data.error);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default Validator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/validator.js","export default {\r\n\t/**\r\n\t * Check if the field is blank.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tempty(value) {\r\n\t\tif(value != null){\r\n\t\t\tvalue = value.toString()\r\n\t\t}\r\n\t\treturn value == null || value.length == 0 || value.trim() == '';\r\n\t},\r\n\t\r\n\t/**\r\n\t * No blank fields.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\trequired(value) {\r\n\t\tif (typeof value == 'boolean')\r\n\t\t\treturn value;\r\n\r\n\t\treturn !this.empty(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Numeric rule.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tnumeric(value) {\r\n\t\tlet regexp = /^(-?[1-9]\\d*|0)$/\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\r\n\r\n\t/**\r\n\t * Email rule.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\temail(value) {\r\n\t\tlet regexp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Only URL.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\turl(value) {\r\n\t\tlet regexp = /^(https?|ftp|rmtp|mms):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+)(:(\\d+))?\\/?/i\r\n\t\treturn regexp.test(value);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Get first item.\r\n\t *\r\n\t * @param {String} value\r\n\t * @return {Boolean}\r\n\t */\r\n\tfirst(array = []) {\r\n\t\tif (array.constructor == Array) {\r\n\t\t\tif (array.length > 0) {\r\n\t\t\t\treturn array[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow \"Error getting first element, array is needed but we get \" + array.constructor.name;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/helpers/index.js","export default {\r\n\t'required': 'The field :attribute is required',\r\n\t'email': 'The field :attribute must be an email',\r\n\t'numeric': \"The field :attribute must be numeric\",\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/validators/base/messages_default.js","'use strict';\n\nimport mongoose from 'mongoose';\nlet Schema = mongoose.Schema;\nlet UserSchema = {\n    first_name : {\n        type : String,\n        required : true,\n    },\n    last_name  : {\n        type : String,\n        required : true,\n    },\n    email : {\n        type : String,\n        unique : true,\n        required : true,\n    },\n    password : {\n    type : String,\n\n    },\n    avatar : String,\n    enabled : {\n        type : Boolean,\n        defaultValue : true\n    }\n}\n\nexport default mongoose.model('User', UserSchema, 'users')\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 24\n// module chunks = 0","import BaseController from '../Base.controller'\nimport PostRepository from '../../repositories/Post.repository'\nclass PostsController extends BaseController{\n    constructor(){\n        super(new PostRepository())\n    }\n}\nexport default PostsController\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/api/Posts.controller.js","import BaseRepository from './Base.repository'\nimport PostValidator from '../validators/Post.validator'\nimport PostModel from '../models/post'\n\nclass PostRepository extends BaseRepository {\n  constructor () {\n    super(PostModel, PostValidator)\n  }\n}\n\nexport default PostRepository\n\n\n\n// WEBPACK FOOTER //\n// ./server/repositories/Post.repository.js","import Validator from './base/validator.js';\n\nclass PostValidator extends Validator\n{\n    constructor(data){\n        super();\n\n\n        this.rules = {\n            title : 'required',\n            description : 'required',\n        }\n\n        this.messages = {\n            title : {\n                required : 'Es campo title es requerido'\n            }\n        }\n\n        this.data = data\n        this.extend({\n            empty(value) {\n                value = value\n                    ? value.toString()\n                    : null\n                return value == null || value.length == 0 || value.trim() == '';\n            }\n        })\n\n    }\n\n    static make(data = {})\n    {\n        let validate = new PostValidator(data);\n        return validate.exec()\n    }\n}\n\nexport default PostValidator;\n\n\n// WEBPACK FOOTER //\n// ./server/validators/Post.validator.js"," 'use strict'\n import mongoose from 'mongoose'\n let Schema = mongoose.Schema\n let PostSchema = {\n    title : {\n        type : String,\n        required : true,\n    },\n    description: {\n        type: String,\n        required : true,\n    },\n    user_id: {\n        type : Number,\n        required : false\n    }\n }\n\n export default mongoose.model('Post', PostSchema, 'posts')\n \n\n\n\n// WEBPACK FOOTER //\n// ./server/models/post.js","import ClassPostController from '../../controllers/api/Posts.controller'\nvar express = require('express')\nvar Route = express.Router()\nvar PostsController = new ClassPostController()\n\nRoute.get('/posts/', PostsController.index)\nRoute.post('/posts/', PostsController.create)\nRoute.get('/posts/:id', PostsController.find)\nRoute.put('/posts/:id', PostsController.update)\nRoute.delete('/posts/:id', PostsController.delete)\n\nexport default Route\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/api/posts.js"],"sourceRoot":""}